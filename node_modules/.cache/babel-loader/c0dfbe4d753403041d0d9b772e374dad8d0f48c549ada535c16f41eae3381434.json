{"ast":null,"code":"var _jsxFileName = \"/Users/nikita/Downloads/super_date_picker/src/services/theme/provider.tsx\",\n  _s = $RefreshSig$();\n/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\n\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport isEqual from \"lodash/isEqual\";\nimport { EuiSystemContext, EuiThemeContext, EuiModificationsContext, EuiColorModeContext } from \"./context\";\nimport { buildTheme, getColorMode, getComputed, mergeDeep } from \"./utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet providerWarning = undefined;\nexport const setEuiDevProviderWarning = level => providerWarning = level;\nexport const getEuiDevProviderWarning = () => providerWarning;\nexport const EuiThemeProvider = _ref => {\n  _s();\n  let {\n    theme: _system,\n    colorMode: _colorMode,\n    modify: _modifications,\n    children\n  } = _ref;\n  const parentSystem = useContext(EuiSystemContext);\n  const parentModifications = useContext(EuiModificationsContext);\n  const parentColorMode = useContext(EuiColorModeContext);\n  const parentTheme = useContext(EuiThemeContext);\n  const [system, setSystem] = useState(_system || parentSystem);\n  const prevSystemKey = useRef(system.key);\n  const [modifications, setModifications] = useState(mergeDeep(parentModifications, _modifications));\n  const prevModifications = useRef(modifications);\n  const [colorMode, setColorMode] = useState(getColorMode(_colorMode, parentColorMode));\n  const prevColorMode = useRef(colorMode);\n  const isParentTheme = useRef(prevSystemKey.current === parentSystem.key && colorMode === parentColorMode && isEqual(parentModifications, modifications));\n  const [theme, setTheme] = useState(isParentTheme.current && Object.keys(parentTheme).length ? {\n    ...parentTheme\n  } // Intentionally create a new object to break referential equality\n  : getComputed(system, buildTheme(modifications, `_${system.key}`), colorMode));\n  useEffect(() => {\n    const newSystem = _system || parentSystem;\n    if (prevSystemKey.current !== newSystem.key) {\n      setSystem(newSystem);\n      prevSystemKey.current = newSystem.key;\n      isParentTheme.current = false;\n    }\n  }, [_system, parentSystem]);\n  useEffect(() => {\n    const newModifications = mergeDeep(parentModifications, _modifications);\n    if (!isEqual(prevModifications.current, newModifications)) {\n      setModifications(newModifications);\n      prevModifications.current = newModifications;\n      isParentTheme.current = false;\n    }\n  }, [_modifications, parentModifications]);\n  useEffect(() => {\n    const newColorMode = getColorMode(_colorMode, parentColorMode);\n    if (!isEqual(newColorMode, prevColorMode.current)) {\n      setColorMode(newColorMode);\n      prevColorMode.current = newColorMode;\n      isParentTheme.current = false;\n    }\n  }, [_colorMode, parentColorMode]);\n  useEffect(() => {\n    if (!isParentTheme.current) {\n      setTheme(getComputed(system, buildTheme(modifications, `_${system.key}`), colorMode));\n    }\n  }, [colorMode, system, modifications]);\n  return /*#__PURE__*/_jsxDEV(EuiColorModeContext.Provider, {\n    value: colorMode,\n    children: /*#__PURE__*/_jsxDEV(EuiSystemContext.Provider, {\n      value: system,\n      children: /*#__PURE__*/_jsxDEV(EuiModificationsContext.Provider, {\n        value: modifications,\n        children: /*#__PURE__*/_jsxDEV(EuiThemeContext.Provider, {\n          value: theme,\n          children: children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n};\n_s(EuiThemeProvider, \"lOASifGPYI8TFNo6+o83tGtR3o4=\");\n_c = EuiThemeProvider;\nvar _c;\n$RefreshReg$(_c, \"EuiThemeProvider\");","map":{"version":3,"names":["useContext","useEffect","useRef","useState","isEqual","EuiSystemContext","EuiThemeContext","EuiModificationsContext","EuiColorModeContext","buildTheme","getColorMode","getComputed","mergeDeep","providerWarning","undefined","setEuiDevProviderWarning","level","getEuiDevProviderWarning","EuiThemeProvider","theme","_system","colorMode","_colorMode","modify","_modifications","children","parentSystem","parentModifications","parentColorMode","parentTheme","system","setSystem","prevSystemKey","key","modifications","setModifications","prevModifications","setColorMode","prevColorMode","isParentTheme","current","setTheme","Object","keys","length","newSystem","newModifications","newColorMode"],"sources":["/Users/nikita/Downloads/super_date_picker/src/services/theme/provider.tsx"],"sourcesContent":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\n\nimport {\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n  PropsWithChildren,\n} from \"react\";\nimport isEqual from \"lodash/isEqual\";\n\nimport {\n  EuiSystemContext,\n  EuiThemeContext,\n  EuiModificationsContext,\n  EuiColorModeContext,\n} from \"./context\";\nimport { buildTheme, getColorMode, getComputed, mergeDeep } from \"./utils\";\nimport {\n  EuiThemeColorMode,\n  EuiThemeColorModeStandard,\n  EuiThemeSystem,\n  EuiThemeModifications,\n} from \"./types\";\n\ntype LEVELS = \"log\" | \"warn\" | \"error\";\nlet providerWarning: LEVELS | undefined = undefined;\nexport const setEuiDevProviderWarning = (level: LEVELS) =>\n  (providerWarning = level);\nexport const getEuiDevProviderWarning = () => providerWarning;\n\nexport interface EuiThemeProviderProps<T> {\n  theme?: EuiThemeSystem<T>;\n  colorMode?: EuiThemeColorMode;\n  modify?: EuiThemeModifications<T>;\n  children: any;\n}\n\nexport const EuiThemeProvider = <T extends {} = {}>({\n  theme: _system,\n  colorMode: _colorMode,\n  modify: _modifications,\n  children,\n}: PropsWithChildren<EuiThemeProviderProps<T>>) => {\n  const parentSystem = useContext(EuiSystemContext);\n  const parentModifications = useContext(EuiModificationsContext);\n  const parentColorMode = useContext(EuiColorModeContext);\n  const parentTheme = useContext(EuiThemeContext);\n\n  const [system, setSystem] = useState(_system || parentSystem);\n  const prevSystemKey = useRef(system.key);\n\n  const [modifications, setModifications] = useState<EuiThemeModifications>(\n    mergeDeep(parentModifications, _modifications)\n  );\n  const prevModifications = useRef(modifications);\n\n  const [colorMode, setColorMode] = useState<EuiThemeColorModeStandard>(\n    getColorMode(_colorMode, parentColorMode)\n  );\n  const prevColorMode = useRef(colorMode);\n\n  const isParentTheme = useRef(\n    prevSystemKey.current === parentSystem.key &&\n      colorMode === parentColorMode &&\n      isEqual(parentModifications, modifications)\n  );\n\n  const [theme, setTheme] = useState(\n    isParentTheme.current && Object.keys(parentTheme).length\n      ? { ...parentTheme } // Intentionally create a new object to break referential equality\n      : getComputed(\n          system,\n          buildTheme(modifications, `_${system.key}`) as typeof system,\n          colorMode\n        )\n  );\n\n  useEffect(() => {\n    const newSystem = _system || parentSystem;\n    if (prevSystemKey.current !== newSystem.key) {\n      setSystem(newSystem);\n      prevSystemKey.current = newSystem.key;\n      isParentTheme.current = false;\n    }\n  }, [_system, parentSystem]);\n\n  useEffect(() => {\n    const newModifications = mergeDeep(parentModifications, _modifications);\n    if (!isEqual(prevModifications.current, newModifications)) {\n      setModifications(newModifications);\n      prevModifications.current = newModifications;\n      isParentTheme.current = false;\n    }\n  }, [_modifications, parentModifications]);\n\n  useEffect(() => {\n    const newColorMode = getColorMode(_colorMode, parentColorMode);\n    if (!isEqual(newColorMode, prevColorMode.current)) {\n      setColorMode(newColorMode);\n      prevColorMode.current = newColorMode;\n      isParentTheme.current = false;\n    }\n  }, [_colorMode, parentColorMode]);\n\n  useEffect(() => {\n    if (!isParentTheme.current) {\n      setTheme(\n        getComputed(\n          system,\n          buildTheme(modifications, `_${system.key}`) as typeof system,\n          colorMode\n        )\n      );\n    }\n  }, [colorMode, system, modifications]);\n\n  return (\n    <EuiColorModeContext.Provider value={colorMode}>\n      <EuiSystemContext.Provider value={system}>\n        <EuiModificationsContext.Provider value={modifications}>\n          <EuiThemeContext.Provider value={theme}>\n            {children}\n          </EuiThemeContext.Provider>\n        </EuiModificationsContext.Provider>\n      </EuiSystemContext.Provider>\n    </EuiColorModeContext.Provider>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}