{"ast":null,"code":"/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\n\n/**\n * NOTE: We can't test this component because Enzyme doesn't support rendering\n * into portals.\n */\n\nimport { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport { keysOf } from '../common';\nexport const insertPositions = {\n  after: 'afterend',\n  before: 'beforebegin'\n};\nexport const INSERT_POSITIONS = keysOf(insertPositions);\nexport class EuiPortal extends Component {\n  constructor(props) {\n    super(props);\n    this.portalNode = null;\n    if (typeof window === 'undefined') return; // Prevent SSR errors\n\n    const {\n      insert\n    } = this.props;\n    this.portalNode = document.createElement('div');\n    this.portalNode.dataset.euiportal = 'true';\n    if (insert == null) {\n      // no insertion defined, append to body\n      document.body.appendChild(this.portalNode);\n    } else {\n      // inserting before or after an element\n      const {\n        sibling,\n        position\n      } = insert;\n      sibling.insertAdjacentElement(insertPositions[position], this.portalNode);\n    }\n  }\n  componentDidMount() {\n    this.updatePortalRef(this.portalNode);\n  }\n  componentWillUnmount() {\n    var _this$portalNode;\n    if ((_this$portalNode = this.portalNode) !== null && _this$portalNode !== void 0 && _this$portalNode.parentNode) {\n      this.portalNode.parentNode.removeChild(this.portalNode);\n    }\n    this.updatePortalRef(null);\n  }\n  updatePortalRef(ref) {\n    if (this.props.portalRef) {\n      this.props.portalRef(ref);\n    }\n  }\n  render() {\n    return this.portalNode ? /*#__PURE__*/createPortal(this.props.children, this.portalNode) : null;\n  }\n}","map":{"version":3,"names":["Component","createPortal","keysOf","insertPositions","after","before","INSERT_POSITIONS","EuiPortal","constructor","props","portalNode","window","insert","document","createElement","dataset","euiportal","body","appendChild","sibling","position","insertAdjacentElement","componentDidMount","updatePortalRef","componentWillUnmount","parentNode","removeChild","ref","portalRef","render","children"],"sources":["/Users/nikita/Downloads/super_date_picker/src/portal/portal.tsx"],"sourcesContent":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\n\n/**\n * NOTE: We can't test this component because Enzyme doesn't support rendering\n * into portals.\n */\n\nimport { Component, ReactNode } from 'react';\nimport { createPortal } from 'react-dom';\nimport { keysOf } from '../common';\n\ninterface InsertPositionsMap {\n  after: InsertPosition;\n  before: InsertPosition;\n}\n\nexport const insertPositions: InsertPositionsMap = {\n  after: 'afterend',\n  before: 'beforebegin',\n};\n\ntype EuiPortalInsertPosition = keyof typeof insertPositions;\n\nexport const INSERT_POSITIONS: EuiPortalInsertPosition[] = keysOf(\n  insertPositions\n);\n\nexport interface EuiPortalProps {\n  /**\n   * ReactNode to render as this component's content\n   */\n  children: ReactNode;\n  insert?: { sibling: HTMLElement; position: 'before' | 'after' };\n  portalRef?: (ref: HTMLDivElement | null) => void;\n}\n\nexport class EuiPortal extends Component<EuiPortalProps> {\n  portalNode: HTMLDivElement | null = null;\n\n  constructor(props: EuiPortalProps) {\n    super(props);\n    if (typeof window === 'undefined') return; // Prevent SSR errors\n\n    const { insert } = this.props;\n\n    this.portalNode = document.createElement('div');\n    this.portalNode.dataset.euiportal = 'true';\n\n    if (insert == null) {\n      // no insertion defined, append to body\n      document.body.appendChild(this.portalNode);\n    } else {\n      // inserting before or after an element\n      const { sibling, position } = insert;\n      sibling.insertAdjacentElement(insertPositions[position], this.portalNode);\n    }\n  }\n\n  componentDidMount() {\n    this.updatePortalRef(this.portalNode);\n  }\n\n  componentWillUnmount() {\n    if (this.portalNode?.parentNode) {\n      this.portalNode.parentNode.removeChild(this.portalNode);\n    }\n    this.updatePortalRef(null);\n  }\n\n  updatePortalRef(ref: HTMLDivElement | null) {\n    if (this.props.portalRef) {\n      this.props.portalRef(ref);\n    }\n  }\n\n  render() {\n    return this.portalNode\n      ? createPortal(this.props.children, this.portalNode)\n      : null;\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAASA,SAAS,QAAmB,OAAO;AAC5C,SAASC,YAAY,QAAQ,WAAW;AACxC,SAASC,MAAM,QAAQ,WAAW;AAOlC,OAAO,MAAMC,eAAmC,GAAG;EACjDC,KAAK,EAAE,UAAU;EACjBC,MAAM,EAAE;AACV,CAAC;AAID,OAAO,MAAMC,gBAA2C,GAAGJ,MAAM,CAC/DC,eAAe,CAChB;AAWD,OAAO,MAAMI,SAAS,SAASP,SAAS,CAAiB;EAGvDQ,WAAW,CAACC,KAAqB,EAAE;IACjC,KAAK,CAACA,KAAK,CAAC;IAAC,KAHfC,UAAU,GAA0B,IAAI;IAItC,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE,OAAO,CAAC;;IAE3C,MAAM;MAAEC;IAAO,CAAC,GAAG,IAAI,CAACH,KAAK;IAE7B,IAAI,CAACC,UAAU,GAAGG,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC/C,IAAI,CAACJ,UAAU,CAACK,OAAO,CAACC,SAAS,GAAG,MAAM;IAE1C,IAAIJ,MAAM,IAAI,IAAI,EAAE;MAClB;MACAC,QAAQ,CAACI,IAAI,CAACC,WAAW,CAAC,IAAI,CAACR,UAAU,CAAC;IAC5C,CAAC,MAAM;MACL;MACA,MAAM;QAAES,OAAO;QAAEC;MAAS,CAAC,GAAGR,MAAM;MACpCO,OAAO,CAACE,qBAAqB,CAAClB,eAAe,CAACiB,QAAQ,CAAC,EAAE,IAAI,CAACV,UAAU,CAAC;IAC3E;EACF;EAEAY,iBAAiB,GAAG;IAClB,IAAI,CAACC,eAAe,CAAC,IAAI,CAACb,UAAU,CAAC;EACvC;EAEAc,oBAAoB,GAAG;IAAA;IACrB,wBAAI,IAAI,CAACd,UAAU,6CAAf,iBAAiBe,UAAU,EAAE;MAC/B,IAAI,CAACf,UAAU,CAACe,UAAU,CAACC,WAAW,CAAC,IAAI,CAAChB,UAAU,CAAC;IACzD;IACA,IAAI,CAACa,eAAe,CAAC,IAAI,CAAC;EAC5B;EAEAA,eAAe,CAACI,GAA0B,EAAE;IAC1C,IAAI,IAAI,CAAClB,KAAK,CAACmB,SAAS,EAAE;MACxB,IAAI,CAACnB,KAAK,CAACmB,SAAS,CAACD,GAAG,CAAC;IAC3B;EACF;EAEAE,MAAM,GAAG;IACP,OAAO,IAAI,CAACnB,UAAU,gBAClBT,YAAY,CAAC,IAAI,CAACQ,KAAK,CAACqB,QAAQ,EAAE,IAAI,CAACpB,UAAU,CAAC,GAClD,IAAI;EACV;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}