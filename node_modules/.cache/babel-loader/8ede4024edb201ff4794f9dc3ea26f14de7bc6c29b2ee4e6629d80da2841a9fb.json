{"ast":null,"code":"/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\n\nimport { Component } from 'react';\nexport class EuiObserver extends Component {\n  constructor() {\n    super(...arguments);\n    this.name = 'EuiObserver';\n    this.childNode = null;\n    this.observer = null;\n    this.updateChildNode = ref => {\n      if (this.childNode === ref) return; // node hasn't changed\n\n      // if there's an existing observer disconnect it\n      if (this.observer != null) {\n        this.observer.disconnect();\n        this.observer = null;\n      }\n      this.childNode = ref;\n      if (this.childNode != null) {\n        this.beginObserve();\n      }\n    };\n    this.beginObserve = () => {\n      throw new Error('EuiObserver has no default observation method');\n    };\n  }\n  componentDidMount() {\n    if (this.childNode == null) {\n      throw new Error(`${this.name} did not receive a ref`);\n    }\n  }\n  componentWillUnmount() {\n    if (this.observer != null) {\n      this.observer.disconnect();\n    }\n  }\n  render() {\n    const props = this.props;\n    return props.children(this.updateChildNode);\n  }\n}","map":{"version":3,"names":["Component","EuiObserver","name","childNode","observer","updateChildNode","ref","disconnect","beginObserve","Error","componentDidMount","componentWillUnmount","render","props","children"],"sources":["/Users/nikita/Downloads/super_date_picker/src/observer/observer.ts"],"sourcesContent":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\n\nimport { Component, ReactNode } from 'react';\n\ninterface BaseProps {\n  /**\n   * ReactNode to render as this component's content\n   */\n  children: (ref: any) => ReactNode;\n}\n\nexport interface Observer {\n  disconnect: () => void;\n  observe: (element: Element, options?: { [key: string]: any }) => void;\n}\n\nexport class EuiObserver<Props extends BaseProps> extends Component<Props> {\n  protected name: string = 'EuiObserver';\n  protected childNode: null | Element = null;\n  protected observer: null | Observer = null;\n\n  componentDidMount() {\n    if (this.childNode == null) {\n      throw new Error(`${this.name} did not receive a ref`);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.observer != null) {\n      this.observer.disconnect();\n    }\n  }\n\n  updateChildNode = (ref: Element) => {\n    if (this.childNode === ref) return; // node hasn't changed\n\n    // if there's an existing observer disconnect it\n    if (this.observer != null) {\n      this.observer.disconnect();\n      this.observer = null;\n    }\n\n    this.childNode = ref;\n\n    if (this.childNode != null) {\n      this.beginObserve();\n    }\n  };\n\n  beginObserve: () => void = () => {\n    throw new Error('EuiObserver has no default observation method');\n  };\n\n  render() {\n    const props: BaseProps = this.props;\n    return props.children(this.updateChildNode);\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,SAAS,QAAmB,OAAO;AAc5C,OAAO,MAAMC,WAAW,SAAkCD,SAAS,CAAQ;EAAA;IAAA;IAAA,KAC/DE,IAAI,GAAW,aAAa;IAAA,KAC5BC,SAAS,GAAmB,IAAI;IAAA,KAChCC,QAAQ,GAAoB,IAAI;IAAA,KAc1CC,eAAe,GAAIC,GAAY,IAAK;MAClC,IAAI,IAAI,CAACH,SAAS,KAAKG,GAAG,EAAE,OAAO,CAAC;;MAEpC;MACA,IAAI,IAAI,CAACF,QAAQ,IAAI,IAAI,EAAE;QACzB,IAAI,CAACA,QAAQ,CAACG,UAAU,EAAE;QAC1B,IAAI,CAACH,QAAQ,GAAG,IAAI;MACtB;MAEA,IAAI,CAACD,SAAS,GAAGG,GAAG;MAEpB,IAAI,IAAI,CAACH,SAAS,IAAI,IAAI,EAAE;QAC1B,IAAI,CAACK,YAAY,EAAE;MACrB;IACF,CAAC;IAAA,KAEDA,YAAY,GAAe,MAAM;MAC/B,MAAM,IAAIC,KAAK,CAAC,+CAA+C,CAAC;IAClE,CAAC;EAAA;EA9BDC,iBAAiB,GAAG;IAClB,IAAI,IAAI,CAACP,SAAS,IAAI,IAAI,EAAE;MAC1B,MAAM,IAAIM,KAAK,CAAE,GAAE,IAAI,CAACP,IAAK,wBAAuB,CAAC;IACvD;EACF;EAEAS,oBAAoB,GAAG;IACrB,IAAI,IAAI,CAACP,QAAQ,IAAI,IAAI,EAAE;MACzB,IAAI,CAACA,QAAQ,CAACG,UAAU,EAAE;IAC5B;EACF;EAsBAK,MAAM,GAAG;IACP,MAAMC,KAAgB,GAAG,IAAI,CAACA,KAAK;IACnC,OAAOA,KAAK,CAACC,QAAQ,CAAC,IAAI,CAACT,eAAe,CAAC;EAC7C;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}