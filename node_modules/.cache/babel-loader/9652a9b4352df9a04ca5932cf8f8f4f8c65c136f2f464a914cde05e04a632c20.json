{"ast":null,"code":"var _s = $RefreshSig$();\n/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\n\nimport { useEffect } from 'react';\nimport { throttle } from '../../services/throttle';\nexport function isMouseEvent(event) {\n  return typeof event === 'object' && 'pageX' in event && 'pageY' in event;\n}\nexport function useMouseMove(handleChange) {\n  _s();\n  let interactionConditional = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  useEffect(() => {\n    return unbindEventListeners;\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n  const handleInteraction = (e, isFirstInteraction) => {\n    if (e) {\n      if (interactionConditional) {\n        const x = isMouseEvent(e) ? e.pageX : e.touches[0].pageX;\n        const y = isMouseEvent(e) ? e.pageY : e.touches[0].pageY;\n        handleChange({\n          x,\n          y\n        }, isFirstInteraction);\n      }\n    }\n  };\n  const handleMouseMove = throttle(e => {\n    handleChange({\n      x: e.pageX,\n      y: e.pageY\n    }, false);\n  });\n  const handleMouseDown = e => {\n    handleInteraction(e, true);\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', unbindEventListeners);\n  };\n  const unbindEventListeners = () => {\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', unbindEventListeners);\n  };\n  return [handleMouseDown, handleInteraction];\n}\n_s(useMouseMove, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");","map":{"version":3,"names":["useEffect","throttle","isMouseEvent","event","useMouseMove","handleChange","interactionConditional","unbindEventListeners","handleInteraction","e","isFirstInteraction","x","pageX","touches","y","pageY","handleMouseMove","handleMouseDown","document","addEventListener","removeEventListener"],"sources":["/Users/nikita/Downloads/super_date_picker/src/services/hooks/useMouseMove.ts"],"sourcesContent":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\n\nimport { MouseEvent, TouchEvent, useEffect } from 'react';\nimport { throttle } from '../../services/throttle';\n\nexport function isMouseEvent<T = HTMLDivElement>(\n  event: MouseEvent<T> | TouchEvent<T>\n): event is MouseEvent<T> {\n  return typeof event === 'object' && 'pageX' in event && 'pageY' in event;\n}\n\nexport function useMouseMove<T = HTMLDivElement>(\n  handleChange: (\n    location: { x: number; y: number },\n    isFirstInteraction?: boolean\n  ) => void,\n  interactionConditional: any = true\n): [\n  (e: MouseEvent<T>) => void,\n  (e: MouseEvent<T> | TouchEvent<T>, isFirstInteraction?: boolean) => void\n] {\n  useEffect(() => {\n    return unbindEventListeners;\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n  const handleInteraction = (\n    e: MouseEvent<T> | TouchEvent<T>,\n    isFirstInteraction?: boolean\n  ) => {\n    if (e) {\n      if (interactionConditional) {\n        const x = isMouseEvent<T>(e) ? e.pageX : e.touches[0].pageX;\n        const y = isMouseEvent<T>(e) ? e.pageY : e.touches[0].pageY;\n        handleChange({ x, y }, isFirstInteraction);\n      }\n    }\n  };\n  const handleMouseMove = throttle((e: MouseEvent) => {\n    handleChange({ x: e.pageX, y: e.pageY }, false);\n  });\n  const handleMouseDown = (e: MouseEvent<T>) => {\n    handleInteraction(e, true);\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', unbindEventListeners);\n  };\n  const unbindEventListeners = () => {\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', unbindEventListeners);\n  };\n\n  return [handleMouseDown, handleInteraction];\n}\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAiCA,SAAS,QAAQ,OAAO;AACzD,SAASC,QAAQ,QAAQ,yBAAyB;AAElD,OAAO,SAASC,YAAY,CAC1BC,KAAoC,EACZ;EACxB,OAAO,OAAOA,KAAK,KAAK,QAAQ,IAAI,OAAO,IAAIA,KAAK,IAAI,OAAO,IAAIA,KAAK;AAC1E;AAEA,OAAO,SAASC,YAAY,CAC1BC,YAGS,EAKT;EAAA;EAAA,IAJAC,sBAA2B,uEAAG,IAAI;EAKlCN,SAAS,CAAC,MAAM;IACd,OAAOO,oBAAoB;EAC7B,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;EACR,MAAMC,iBAAiB,GAAG,CACxBC,CAAgC,EAChCC,kBAA4B,KACzB;IACH,IAAID,CAAC,EAAE;MACL,IAAIH,sBAAsB,EAAE;QAC1B,MAAMK,CAAC,GAAGT,YAAY,CAAIO,CAAC,CAAC,GAAGA,CAAC,CAACG,KAAK,GAAGH,CAAC,CAACI,OAAO,CAAC,CAAC,CAAC,CAACD,KAAK;QAC3D,MAAME,CAAC,GAAGZ,YAAY,CAAIO,CAAC,CAAC,GAAGA,CAAC,CAACM,KAAK,GAAGN,CAAC,CAACI,OAAO,CAAC,CAAC,CAAC,CAACE,KAAK;QAC3DV,YAAY,CAAC;UAAEM,CAAC;UAAEG;QAAE,CAAC,EAAEJ,kBAAkB,CAAC;MAC5C;IACF;EACF,CAAC;EACD,MAAMM,eAAe,GAAGf,QAAQ,CAAEQ,CAAa,IAAK;IAClDJ,YAAY,CAAC;MAAEM,CAAC,EAAEF,CAAC,CAACG,KAAK;MAAEE,CAAC,EAAEL,CAAC,CAACM;IAAM,CAAC,EAAE,KAAK,CAAC;EACjD,CAAC,CAAC;EACF,MAAME,eAAe,GAAIR,CAAgB,IAAK;IAC5CD,iBAAiB,CAACC,CAAC,EAAE,IAAI,CAAC;IAC1BS,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEH,eAAe,CAAC;IACvDE,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEZ,oBAAoB,CAAC;EAC5D,CAAC;EACD,MAAMA,oBAAoB,GAAG,MAAM;IACjCW,QAAQ,CAACE,mBAAmB,CAAC,WAAW,EAAEJ,eAAe,CAAC;IAC1DE,QAAQ,CAACE,mBAAmB,CAAC,SAAS,EAAEb,oBAAoB,CAAC;EAC/D,CAAC;EAED,OAAO,CAACU,eAAe,EAAET,iBAAiB,CAAC;AAC7C;AAAC,GAvCeJ,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}